<!DOCTYPE html>
<html>
   <head>
      <title>Scan JSON64</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
      <link rel="icon" type="image/png" href="favicon.png"/>
      <meta name="apple-mobile-web-app-capable" content="yes" />
      
      <link rel="stylesheet" href="http://bridgeit.github.io/demo-jqm/css/mobile.css" type="text/css" />

      <!-- bridgeit.js UNSTABLE VERSION -->
      <script type="text/javascript" src="http://bridgeit.github.io/bridgeit.js/src/bridgeit.js"></script>
      <!-- bridgeit.js STABLE VERSION 
      <script type="text/javascript" src="http://api.bridgeit.mobi/bridgeit/bridgeit.js"></script -->
      
      <!-- APP ICONS -->
      <link rel="apple-touch-icon" href="images/touch-icon-iphone.png"/>
      <link rel="apple-touch-icon" sizes="76x76" href="images/touch-icon-ipad.png"/>
      <link rel="apple-touch-icon" sizes="120x120" href="images/touch-icon-iphone-retina.png"/>
      <link rel="apple-touch-icon" sizes="152x152" href="images/touch-icon-ipad-retina.png"/>
      <link rel="apple-touch-startup-image" href="images/touch-startup-image.png"/>

      <script>
         (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
         (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
         m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

         ga('create', 'UA-45568600-1', 'bridgeit.mobi');
         ga('send', 'pageview');

      </script>
      
   </head>

<body style="font-family:sans-serif">

    <img style="display:block;width:100%; margin-left: auto; margin-right: auto; max-width:400px;padding-bottom:20px;" 
        src="images/bridgeit-banner.png">

    <div style="padding-top:10px; padding-bottom:10px">
       <span style="font-size:21px;font-weight:bold;color:#FF855E;">Scan JSON64</span>
    </div>

    <div class="row" style="padding-bottom:20px"><p class="normalText" >Scan a barcode.</i></b></p></div>

    <a id="contactListBtn" type="button" class="btn"
        onclick="bridgeit.scan('_scan','onScan');">Scan ...</a>
        
    <fieldset id="scans">
    </fieldset>

    <script type="text/javascript">

    bridgeit.useJSON64 = true;

    function onScan(event)  {
        console.log('onScan: ' + JSON.stringify(event));
        var HTTP = "http";
        var text = event.value.data;
        if (HTTP == text.substring(0, HTTP.length))  {
            text = "<span class='ellipsis'><a href='" + text + "'>" + text + "</a></span>";
        }
        var scans = document.getElementById("scans");
        var row1 = document.createElement('div');
        row1.setAttribute('class','row timestamp');
        row1.innerHTML = "<span class='ellipsis'>Scanned on " + new Date() + "</span>";
        var row2 = document.createElement('div');
        row2.setAttribute('class','row');
        row2.innerHTML = text;
        scans.insertBefore(row1, scans.firstChild);
        scans.insertBefore(row2, scans.firstChild);
    }
    </script>

</body>
</html>

